<!DOCTYPE html>
<html>

<head>
	<meta charset=utf-8 />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Scroll Mastery - Almost Simple</title>
	
	<style>
		section {
			border: solid 2px red;
			width: 100%;
			height: 400px;
		}
		section.active {
			border: solid 3px green;
		}
	</style>
</head>

<body>
	
	<section id="sec_0">
	  
	</section>
	<section id="sec_1">
	  
	</section>
	<section id="sec_2">
	  
	</section>
	<section id="sec_3">
	  
	</section>
	<section id="sec_4">
	  
	</section>
	<section id="sec_5">
	  
	</section>
	<section id="sec_6">
	  
	</section>

	<script type="text/javascript" src="js/libs/jquery-1.9.0.js"></script>
	<script type="text/javascript" src="../../src/renderfarm.js"></script>
	<script type="text/javascript">
		//RenderFarm uses jQuery - Best practice to ensure the DOM is ready for querying
		jQuery(function($){
			/*
				Slightly Harder Example
				Activating sections by adding a class name
				Add an object to a container
			*/
			
			//1) Define which element is scrolling
			var win = $( window );
			
			//2) Create a RenderFarm
			var renderfarm = new RenderFarm( win );
			
			//3) Create groups
			var sectionO = new RenderableContainer( $('#sec_0') );
			var section1 = new RenderableContainer( $('#sec_1') );
			var section2 = new RenderableContainer( $('#sec_2') );
			var section3 = new RenderableContainer( $('#sec_3') );
			var section4 = new RenderableContainer( $('#sec_4') );
			var section5 = new RenderableContainer( $('#sec_5') );
			var section6 = new RenderableContainer( $('#sec_6') );
			
			
			//3b) Add groups
			renderfarm.addGroup( sectionO );
			renderfarm.addGroup( section1 );
			renderfarm.addGroup( section2 );
			renderfarm.addGroup( section3 );
			renderfarm.addGroup( section4 );
			renderfarm.addGroup( section5 );
			renderfarm.addGroup( section6 );
			
			//4) Create a child object to recieve events
			/*
				All this does is log "focused" to the console when the group's container element it is added to is in view
					and logs "blurred" to the console when the group's container element it is added to is out of view
			*/
			var childObj = {
				focus: function(){
					console.log("focused");
				},
				blur: function(){
					console.log("blurred");
				}
			};
			
			//4b) Add the childObj to a groups
			sectionO.addChild(childObj);
			
			
			//5) Start monitoring groups
			renderfarm.start();
		});
	
	</script>
	
	<!-- Don't forget GA -->
	
</body>

</html>
