!function(t,e){"function"==typeof define&&define.amd?define(["postal"],function(n){return t.vs=e(n)}):"object"==typeof module&&module.exports?module.exports=t.vs=e(require("postal")):t.vs=e(t.postal)}(this,function(t){function e(t,e,n){var s={};for(i in e)s[i]=r.map(t,0,1,e[i],n[i]);return s.offset=t,s}function n(t){return t.nodeName?t:t[0].nodeName?t[0]:document.querySelector(t)}var r={normalize:function(t,e,n){return(t-e)/(n-e)},interpolate:function(t,e,n){return e+(n-e)*t},map:function(t,e,n,r,s){return t<e&&(t=e),t>n&&(t=n),this.interpolate(this.normalize(t,e,n),r,s)}};return function(t,s,a){function o(t){w=t,p=w+d,pWhenStart<w+d*l.start.is&&pWhenEnd>w+d*l.end.is&&!v?(l.start.hasOwnProperty("call")&&!v&&(w>pTop?l.start.call(!1):l.start.call(!0)),v=!0):(pWhenStart>w+d*l.start.is||pWhenEnd<=w+d*l.end.is)&&v&&(v=!1,pWhenEnd>w+d*l.end.is?(l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(l.start.vals):l.scroll({offset:0})),l.end.hasOwnProperty("call")&&l.end.call(!1)):(v=!1,l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(l.end.vals):l.scroll({offset:1})),l.end.hasOwnProperty("call")&&l.end.call(!0))),v&&(track1=Math.floor(w+d*l.start.is-pWhenStart),track2=Math.floor(pWhenEnd-(w+d*l.end.is)),trackPerc=r.map(track1,0,track1+track2,0,1),l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(e(trackPerc,l.start.vals,l.end.vals)):l.scroll({offset:trackPerc})))}function i(){d=window.innerHeight,w=h,p=Math.abs(w)+d,pTop=u.offsetTop,pHeight=u.clientHeight,pWhenStart=pTop+pHeight*l.start.when,pWhenEnd=pTop+pHeight*l.end.when}var l={condition:1,start:{},end:{}};if(l.scroll=function(t){s.seek(s.totalDuration()*t.offset)},void 0!==a&&"object"==typeof a)for(var c in l)a.hasOwnProperty(c)&&("scroll"===c?(l.userScroll=a[c],l[c]=function(t){l.userScroll(t),s.seek(s.totalDuration()*t.offset)}):l[c]=a[c]);switch(l.condition){case 1:l.start.when=0,l.start.is=1,l.end.when=1,l.end.is=0;break;case 2:l.start.when=1,l.start.is=1,l.end.when=0,l.end.is=0;break;case 3:l.start.when=0,l.start.is=0,l.end.when=1,l.end.is=1;break;case 4:l.start.when=0,l.start.is=0,l.end.when=1,l.end.is=0;break;case 5:l.start.when=0,l.start.is=1,l.end.when=1,l.end.is=1;break;case 6:l.start.when=Number(a.start.when.split("%")[0])/100,l.start.is=Number(a.start.is.split("%")[0])/100,l.end.when=Number(a.end.when.split("%")[0])/100,l.end.is=Number(a.end.is.split("%")[0])/100}var d,p,h=0,f=!1,w=(window,0),u=n(t),v=!1;return window.addEventListener("scroll",function(t){h=window.scrollY,f||(window.requestAnimationFrame(function(){o(h),f=!1}),f=!0)}),window.addEventListener("resize",function(){i(),o(h)},{passive:!0}),i(),!1}});