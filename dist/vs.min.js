!function(t,e){"function"==typeof define&&define.amd?define(["postal"],function(n){return t.vs=e(n)}):"object"==typeof module&&module.exports?module.exports=t.vs=e(require("postal")):t.vs=e(t.postal)}(this,function(t){function e(t,e,r){var s={};for(i in e)s[i]=n.map(t,0,1,e[i],r[i]);return s.offset=t,s}var n={normalize:function(t,e,n){return(t-e)/(n-e)},interpolate:function(t,e,n){return e+(n-e)*t},map:function(t,e,n,r,s){return t<e&&(t=e),t>n&&(t=n),this.interpolate(this.normalize(t,e,n),r,s)}};return function(t,r,s){function a(t){f=t,h=f+c,pWhenStart<f+c*i.start.is&&pWhenEnd>f+c*i.end.is&&!v?(i.start.hasOwnProperty("call")&&!v&&(f>pTop?i.start.call(!1):i.start.call(!0)),v=!0):(pWhenStart>f+c*i.start.is||pWhenEnd<=f+c*i.end.is)&&v&&(v=!1,pWhenEnd>f+c*i.end.is?(i.hasOwnProperty("scroll")&&(i.start.hasOwnProperty("vals")&&i.end.hasOwnProperty("vals")?i.scroll(i.start.vals):i.scroll({offset:0})),i.end.hasOwnProperty("call")&&i.end.call(!1)):(v=!1,i.hasOwnProperty("scroll")&&(i.start.hasOwnProperty("vals")&&i.end.hasOwnProperty("vals")?i.scroll(i.end.vals):i.scroll({offset:1})),i.end.hasOwnProperty("call")&&i.end.call(!0))),v&&(track1=Math.floor(f+c*i.start.is-pWhenStart),track2=Math.floor(pWhenEnd-(f+c*i.end.is)),trackPerc=n.map(track1,0,track1+track2,0,1),i.hasOwnProperty("scroll")&&(i.start.hasOwnProperty("vals")&&i.end.hasOwnProperty("vals")?i.scroll(e(trackPerc,i.start.vals,i.end.vals)):i.scroll({offset:trackPerc})))}function o(){c=$(window).height(),f=p,h=Math.abs(f)+c,pTop=u.position().top,pHeight=u.height(),pWhenStart=pTop+pHeight*i.start.when,pWhenEnd=pTop+pHeight*i.end.when}var i={condition:1,start:{},end:{}};if(i.scroll=function(t){r.seek(r.totalDuration()*t.offset)},void 0!==s&&"object"==typeof s)for(var l in i)s.hasOwnProperty(l)&&("scroll"===l?(i.userScroll=s[l],i[l]=function(t){i.userScroll(t),r.seek(r.totalDuration()*t.offset)}):i[l]=s[l]);switch(i.condition){case 1:i.start.when=0,i.start.is=1,i.end.when=1,i.end.is=0;break;case 2:i.start.when=1,i.start.is=1,i.end.when=0,i.end.is=0;break;case 3:i.start.when=0,i.start.is=0,i.end.when=1,i.end.is=1;break;case 4:i.start.when=0,i.start.is=0,i.end.when=1,i.end.is=0;break;case 5:i.start.when=0,i.start.is=1,i.end.when=1,i.end.is=1;break;case 6:i.start.when=Number(s.start.when.split("%")[0])/100,i.start.is=Number(s.start.is.split("%")[0])/100,i.end.when=Number(s.end.when.split("%")[0])/100,i.end.is=Number(s.end.is.split("%")[0])/100}var c,h,p=0,d=!1,w=$(window),f=0,u=$(t),v=!1;return window.addEventListener("scroll",function(t){p=window.scrollY,d||(window.requestAnimationFrame(function(){a(p),d=!1}),d=!0)}),w.resize(function(){o(),a(p)}),o(),!1}});